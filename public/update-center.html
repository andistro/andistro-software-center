<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="updates.title">Central de Atualizações - AndistroOS Software Center</title>
    <link rel="stylesheet" href="estilos.css">
    <link rel="icon" href="assets/ic_logo.svg" type="image/svg+xml">
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-section">
                <img src="assets/ic_logo.svg" alt="Logo" class="logo">
                <h1 data-i18n="title">AndistroOS Software Center</h1>
            </div>
            <div class="controls">
                <button class="language-btn" id="languageBtn" data-i18n="language">PT</button>
            </div>
        </div>
        
        <nav class="main-nav">
            <a href="index.html" data-i18n="nav.home">Início</a>
            <a href="pesquisar.html" data-i18n="nav.search">Pesquisar</a>
            <a href="update-center.html" class="active" data-i18n="nav.updates">Atualizações</a>
        </nav>
    </header>
    
    <main class="updates-container">
        <div class="updates-stats" id="updatesStats" style="display: none;">
            <div class="stats-card">
                <div class="stat-item">
                    <div class="stat-number" id="totalApps">0</div>
                    <div class="stat-label" data-i18n="updates.stats.total">Total de Apps</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="updatesAvailable">0</div>
                    <div class="stat-label" data-i18n="updates.stats.available">Atualizações Disponíveis</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="upToDate">0</div>
                    <div class="stat-label" data-i18n="updates.stats.uptodate">Apps Atualizados</div>
                </div>
            </div>
        </div>
        
        <div class="updates-header">
            <h2 data-i18n="updates.header">Central de Atualizações</h2>
            <p data-i18n="updates.description">Mantenha seus aplicativos sempre atualizados com as últimas versões e recursos.</p>
            
            <div class="updates-actions">
                <button class="btn-primary" id="checkUpdatesBtn" data-i18n="updates.actions.check">Verificar Atualizações</button>
                <button class="btn-secondary" id="updateAllBtn" style="display: none;" data-i18n="updates.actions.updateall">Atualizar Todos</button>
                <button class="btn-secondary" id="refreshBtn" data-i18n="updates.actions.refresh">Atualizar Lista</button>
            </div>
        </div>
        
        <div class="updates-content">
            <div class="loading" id="loadingIndicator" style="display: none;">
                <div class="spinner"></div>
                <p data-i18n="updates.loading">Verificando atualizações...</p>
            </div>
            
            <div class="no-updates" id="noUpdatesMessage" style="display: none;">
                <div class="no-updates-icon">✅</div>
                <h3 data-i18n="updates.noupdates.title">Tudo Atualizado!</h3>
                <p data-i18n="updates.noupdates.message">Todos os seus aplicativos estão na versão mais recente.</p>
            </div>
            
            <div class="updates-list" id="updatesList">
                <div class="updates-section">
                    <h3 data-i18n="updates.sections.available">Atualizações Disponíveis</h3>
                    <div id="availableUpdates" class="update-items">
                        <!-- Atualizações disponíveis serão inseridas aqui -->
                    </div>
                </div>
                
                <div class="updates-section">
                    <h3 data-i18n="updates.sections.uptodate">Apps Atualizados</h3>
                    <div id="upToDateApps" class="update-items">
                        <!-- Apps atualizados serão inseridos aqui -->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="update-history" id="updateHistory" style="display: none;">
            <h3 data-i18n="updates.history.title">Histórico de Atualizações</h3>
            <div id="historyList" class="history-list">
                <!-- Histórico será inserido aqui -->
            </div>
        </div>
    </main>
    
    <!-- Modal de progresso da atualização -->
    <div id="updateProgressModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="updates.progress.title">Atualizando Aplicativo</h3>
            </div>
            <div class="modal-body">
                <div class="progress-info">
                    <p id="progressAppName"></p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-details">
                        <span id="progressPercentage">0%</span>
                        <span id="progressStatus" data-i18n="updates.progress.downloading">Baixando...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de confirmação -->
    <div id="confirmModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="updates.confirm.title">Confirmar Atualização</h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage" data-i18n="updates.confirm.message">Deseja realmente atualizar este aplicativo?</p>
                <div class="app-info" id="confirmAppInfo">
                    <!-- Informações do app serão inseridas aqui -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="confirmCancel" data-i18n="updates.confirm.cancel">Cancelar</button>
                <button class="btn-primary" id="confirmUpdate" data-i18n="updates.confirm.update">Atualizar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de erro -->
    <div id="errorModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="updates.error.title">Erro na Atualização</h3>
            </div>
            <div class="modal-body">
                <p id="errorMessage" data-i18n="updates.error.message">Ocorreu um erro durante a atualização. Tente novamente.</p>
                <div class="error-details" id="errorDetails" style="display: none;">
                    <details>
                        <summary data-i18n="updates.error.details">Detalhes do erro</summary>
                        <pre id="errorLog"></pre>
                    </details>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="errorClose" data-i18n="updates.error.close">Fechar</button>
            </div>
        </div>
    </div>
    
    <script src="src/main.js"></script>
</body>
</html>